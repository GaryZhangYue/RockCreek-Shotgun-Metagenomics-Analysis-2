/var/spool/slurm//job51034281/slurm_script: conda: command not found
checkm_from_reassemble_bins -o ../../metawrap_06222021/REASSEMBLY -1 ../../metawrap_06222021/CLEAN_READS/all_1.fastq -2 ../../metawrap_06222021/CLEAN_READS/all_2.fastq -t 48 -m 1000 -c 70 -x 5 -b ../../metawrap_06222021/BIN_REFINEMENT/metawrap_70_5_bins

########################################################################################################################
#####                                        RUN CHECKM ON REASSEMBLED BINS                                        #####
########################################################################################################################


------------------------------------------------------------------------------------------------------------------------
-----           There is 1000 RAM and 48 threads available, and each pplacer thread uses ~40GB, so I will          -----
-----                                          use 25 threads for pplacer                                          -----
------------------------------------------------------------------------------------------------------------------------


------------------------------------------------------------------------------------------------------------------------
-----                            Running CheckM on best bins (reassembled and original)                            -----
------------------------------------------------------------------------------------------------------------------------

mkdir: cannot create directory ‘../../metawrap_06222021/REASSEMBLY/tmp’: File exists

*******************************************************************************
 [CheckM - tree] Placing bins in reference genome tree.
*******************************************************************************

  Identifying marker genes in 38 bins with 48 threads:
    Finished processing 0 of 38 (0.00%) bins.    Finished processing 1 of 38 (2.63%) bins.    Finished processing 2 of 38 (5.26%) bins.    Finished processing 3 of 38 (7.89%) bins.    Finished processing 4 of 38 (10.53%) bins.    Finished processing 5 of 38 (13.16%) bins.    Finished processing 6 of 38 (15.79%) bins.    Finished processing 7 of 38 (18.42%) bins.    Finished processing 8 of 38 (21.05%) bins.    Finished processing 9 of 38 (23.68%) bins.    Finished processing 10 of 38 (26.32%) bins.    Finished processing 11 of 38 (28.95%) bins.    Finished processing 12 of 38 (31.58%) bins.sh: line 1: 368414 Killed                  prodigal -p single -q -m -f gff -g 4 -a ../../metawrap_06222021/REASSEMBLY/reassembled_bins.checkm/bins/all_bins_concatenated.strict/genes.faa.4 -i ../../metawrap_06222021/REASSEMBLY/reassembled_bins/all_bins_concatenated.strict.fa > ../../metawrap_06222021/REASSEMBLY/reassembled_bins.checkm/bins/all_bins_concatenated.strict/genes.gff.4 2> /dev/null
    Finished processing 13 of 38 (34.21%) bins.    Finished processing 14 of 38 (36.84%) bins.    Finished processing 15 of 38 (39.47%) bins.    Finished processing 16 of 38 (42.11%) bins.    Finished processing 17 of 38 (44.74%) bins.    Finished processing 18 of 38 (47.37%) bins.    Finished processing 19 of 38 (50.00%) bins.    Finished processing 20 of 38 (52.63%) bins.    Finished processing 21 of 38 (55.26%) bins.    Finished processing 22 of 38 (57.89%) bins.    Finished processing 23 of 38 (60.53%) bins.    Finished processing 24 of 38 (63.16%) bins.    Finished processing 25 of 38 (65.79%) bins.    Finished processing 26 of 38 (68.42%) bins.    Finished processing 27 of 38 (71.05%) bins.    Finished processing 28 of 38 (73.68%) bins.    Finished processing 29 of 38 (76.32%) bins.    Finished processing 30 of 38 (78.95%) bins.    Finished processing 31 of 38 (81.58%) bins.    Finished processing 32 of 38 (84.21%) bins.    Finished processing 33 of 38 (86.84%) bins.    Finished processing 34 of 38 (89.47%) bins.    Finished processing 35 of 38 (92.11%) bins.    Finished processing 36 of 38 (94.74%) bins.    Finished processing 37 of 38 (97.37%) bins.    Finished processing 38 of 38 (100.00%) bins.
  Saving HMM info to file.

  Calculating genome statistics for 38 bins with 48 threads:
    Finished processing 0 of 38 (0.00%) bins.    Finished processing 1 of 38 (2.63%) bins.    Finished processing 2 of 38 (5.26%) bins.    Finished processing 3 of 38 (7.89%) bins.    Finished processing 4 of 38 (10.53%) bins.    Finished processing 5 of 38 (13.16%) bins.    Finished processing 6 of 38 (15.79%) bins.    Finished processing 7 of 38 (18.42%) bins.    Finished processing 8 of 38 (21.05%) bins.    Finished processing 9 of 38 (23.68%) bins.    Finished processing 10 of 38 (26.32%) bins.    Finished processing 11 of 38 (28.95%) bins.    Finished processing 12 of 38 (31.58%) bins.    Finished processing 13 of 38 (34.21%) bins.    Finished processing 14 of 38 (36.84%) bins.    Finished processing 15 of 38 (39.47%) bins.    Finished processing 16 of 38 (42.11%) bins.    Finished processing 17 of 38 (44.74%) bins.    Finished processing 18 of 38 (47.37%) bins.    Finished processing 19 of 38 (50.00%) bins.    Finished processing 20 of 38 (52.63%) bins.    Finished processing 21 of 38 (55.26%) bins.    Finished processing 22 of 38 (57.89%) bins.    Finished processing 23 of 38 (60.53%) bins.    Finished processing 24 of 38 (63.16%) bins.    Finished processing 25 of 38 (65.79%) bins.    Finished processing 26 of 38 (68.42%) bins.    Finished processing 27 of 38 (71.05%) bins.    Finished processing 28 of 38 (73.68%) bins.    Finished processing 29 of 38 (76.32%) bins.    Finished processing 30 of 38 (78.95%) bins.    Finished processing 31 of 38 (81.58%) bins.    Finished processing 32 of 38 (84.21%) bins.    Finished processing 33 of 38 (86.84%) bins.    Finished processing 34 of 38 (89.47%) bins.    Finished processing 35 of 38 (92.11%) bins.    Finished processing 36 of 38 (94.74%) bins.    Finished processing 37 of 38 (97.37%) bins.    Finished processing 38 of 38 (100.00%) bins.

  Extracting marker genes to align.
  Parsing HMM hits to marker genes:
    Finished parsing hits for 1 of 38 (2.63%) bins.    Finished parsing hits for 2 of 38 (5.26%) bins.    Finished parsing hits for 3 of 38 (7.89%) bins.    Finished parsing hits for 4 of 38 (10.53%) bins.    Finished parsing hits for 5 of 38 (13.16%) bins.    Finished parsing hits for 6 of 38 (15.79%) bins.    Finished parsing hits for 7 of 38 (18.42%) bins.    Finished parsing hits for 8 of 38 (21.05%) bins.    Finished parsing hits for 9 of 38 (23.68%) bins.    Finished parsing hits for 10 of 38 (26.32%) bins.    Finished parsing hits for 11 of 38 (28.95%) bins.    Finished parsing hits for 12 of 38 (31.58%) bins.    Finished parsing hits for 13 of 38 (34.21%) bins.    Finished parsing hits for 14 of 38 (36.84%) bins.    Finished parsing hits for 15 of 38 (39.47%) bins.    Finished parsing hits for 16 of 38 (42.11%) bins.    Finished parsing hits for 17 of 38 (44.74%) bins.    Finished parsing hits for 18 of 38 (47.37%) bins.    Finished parsing hits for 19 of 38 (50.00%) bins.    Finished parsing hits for 20 of 38 (52.63%) bins.    Finished parsing hits for 21 of 38 (55.26%) bins.    Finished parsing hits for 22 of 38 (57.89%) bins.    Finished parsing hits for 23 of 38 (60.53%) bins.    Finished parsing hits for 24 of 38 (63.16%) bins.    Finished parsing hits for 25 of 38 (65.79%) bins.    Finished parsing hits for 26 of 38 (68.42%) bins.    Finished parsing hits for 27 of 38 (71.05%) bins.    Finished parsing hits for 28 of 38 (73.68%) bins.    Finished parsing hits for 29 of 38 (76.32%) bins.    Finished parsing hits for 30 of 38 (78.95%) bins.    Finished parsing hits for 31 of 38 (81.58%) bins.    Finished parsing hits for 32 of 38 (84.21%) bins.    Finished parsing hits for 33 of 38 (86.84%) bins.    Finished parsing hits for 34 of 38 (89.47%) bins.    Finished parsing hits for 35 of 38 (92.11%) bins.    Finished parsing hits for 36 of 38 (94.74%) bins.    Finished parsing hits for 37 of 38 (97.37%) bins.    Finished parsing hits for 38 of 38 (100.00%) bins.
  Extracting 43 HMMs with 48 threads:
    Finished extracting 0 of 43 (0.00%) HMMs.    Finished extracting 1 of 43 (2.33%) HMMs.    Finished extracting 2 of 43 (4.65%) HMMs.    Finished extracting 3 of 43 (6.98%) HMMs.    Finished extracting 4 of 43 (9.30%) HMMs.    Finished extracting 5 of 43 (11.63%) HMMs.    Finished extracting 6 of 43 (13.95%) HMMs.    Finished extracting 7 of 43 (16.28%) HMMs.    Finished extracting 8 of 43 (18.60%) HMMs.    Finished extracting 9 of 43 (20.93%) HMMs.    Finished extracting 10 of 43 (23.26%) HMMs.    Finished extracting 11 of 43 (25.58%) HMMs.    Finished extracting 12 of 43 (27.91%) HMMs.    Finished extracting 13 of 43 (30.23%) HMMs.    Finished extracting 14 of 43 (32.56%) HMMs.    Finished extracting 15 of 43 (34.88%) HMMs.    Finished extracting 16 of 43 (37.21%) HMMs.    Finished extracting 17 of 43 (39.53%) HMMs.    Finished extracting 18 of 43 (41.86%) HMMs.    Finished extracting 19 of 43 (44.19%) HMMs.    Finished extracting 20 of 43 (46.51%) HMMs.    Finished extracting 21 of 43 (48.84%) HMMs.    Finished extracting 22 of 43 (51.16%) HMMs.    Finished extracting 23 of 43 (53.49%) HMMs.    Finished extracting 24 of 43 (55.81%) HMMs.    Finished extracting 25 of 43 (58.14%) HMMs.    Finished extracting 26 of 43 (60.47%) HMMs.    Finished extracting 27 of 43 (62.79%) HMMs.    Finished extracting 28 of 43 (65.12%) HMMs.    Finished extracting 29 of 43 (67.44%) HMMs.    Finished extracting 30 of 43 (69.77%) HMMs.    Finished extracting 31 of 43 (72.09%) HMMs.    Finished extracting 32 of 43 (74.42%) HMMs.    Finished extracting 33 of 43 (76.74%) HMMs.    Finished extracting 34 of 43 (79.07%) HMMs.    Finished extracting 35 of 43 (81.40%) HMMs.    Finished extracting 36 of 43 (83.72%) HMMs.    Finished extracting 37 of 43 (86.05%) HMMs.    Finished extracting 38 of 43 (88.37%) HMMs.    Finished extracting 39 of 43 (90.70%) HMMs.    Finished extracting 40 of 43 (93.02%) HMMs.    Finished extracting 41 of 43 (95.35%) HMMs.    Finished extracting 42 of 43 (97.67%) HMMs.    Finished extracting 43 of 43 (100.00%) HMMs.
  Aligning 43 marker genes with 48 threads:
    Finished aligning 0 of 43 (0.00%) marker genes.    Finished aligning 1 of 43 (2.33%) marker genes.    Finished aligning 2 of 43 (4.65%) marker genes.    Finished aligning 3 of 43 (6.98%) marker genes.    Finished aligning 4 of 43 (9.30%) marker genes.    Finished aligning 5 of 43 (11.63%) marker genes.    Finished aligning 6 of 43 (13.95%) marker genes.    Finished aligning 7 of 43 (16.28%) marker genes.    Finished aligning 8 of 43 (18.60%) marker genes.    Finished aligning 9 of 43 (20.93%) marker genes.    Finished aligning 10 of 43 (23.26%) marker genes.    Finished aligning 11 of 43 (25.58%) marker genes.    Finished aligning 12 of 43 (27.91%) marker genes.    Finished aligning 13 of 43 (30.23%) marker genes.    Finished aligning 14 of 43 (32.56%) marker genes.    Finished aligning 15 of 43 (34.88%) marker genes.    Finished aligning 16 of 43 (37.21%) marker genes.    Finished aligning 17 of 43 (39.53%) marker genes.    Finished aligning 18 of 43 (41.86%) marker genes.    Finished aligning 19 of 43 (44.19%) marker genes.    Finished aligning 20 of 43 (46.51%) marker genes.    Finished aligning 21 of 43 (48.84%) marker genes.    Finished aligning 22 of 43 (51.16%) marker genes.    Finished aligning 23 of 43 (53.49%) marker genes.    Finished aligning 24 of 43 (55.81%) marker genes.    Finished aligning 25 of 43 (58.14%) marker genes.    Finished aligning 26 of 43 (60.47%) marker genes.    Finished aligning 27 of 43 (62.79%) marker genes.    Finished aligning 28 of 43 (65.12%) marker genes.    Finished aligning 29 of 43 (67.44%) marker genes.    Finished aligning 30 of 43 (69.77%) marker genes.    Finished aligning 31 of 43 (72.09%) marker genes.    Finished aligning 32 of 43 (74.42%) marker genes.    Finished aligning 33 of 43 (76.74%) marker genes.    Finished aligning 34 of 43 (79.07%) marker genes.    Finished aligning 35 of 43 (81.40%) marker genes.    Finished aligning 36 of 43 (83.72%) marker genes.    Finished aligning 37 of 43 (86.05%) marker genes.    Finished aligning 38 of 43 (88.37%) marker genes.    Finished aligning 39 of 43 (90.70%) marker genes.    Finished aligning 40 of 43 (93.02%) marker genes.    Finished aligning 41 of 43 (95.35%) marker genes.    Finished aligning 42 of 43 (97.67%) marker genes.    Finished aligning 43 of 43 (100.00%) marker genes.

  Reading marker alignment files.
  Concatenating alignments.
  Placing 38 bins into the genome tree with pplacer (be patient).
sh: line 1: 373979 Killed                  pplacer -j 25 -c /home-4/yzhan231@jhu.edu/work/yuezhang/lib/metaWRAP/database/MY_CHECKM_FOLDER/genome_tree/genome_tree_full.refpkg -o ../../metawrap_06222021/REASSEMBLY/reassembled_bins.checkm/storage/tree/concatenated.pplacer.json ../../metawrap_06222021/REASSEMBLY/reassembled_bins.checkm/storage/tree/concatenated.fasta > ../../metawrap_06222021/REASSEMBLY/reassembled_bins.checkm/storage/tree/pplacer.out
Uncaught exception: Sys_error("../../metawrap_06222021/REASSEMBLY/reassembled_bins.checkm/storage/tree/concatenated.pplacer.json: No such file or directory")
Fatal error: exception Sys_error("../../metawrap_06222021/REASSEMBLY/reassembled_bins.checkm/storage/tree/concatenated.pplacer.json: No such file or directory")

  { Current stage: 0:26:43.989 || Total: 0:26:43.989 }

*******************************************************************************
 [CheckM - lineage_set] Inferring lineage-specific marker sets.
*******************************************************************************

  Reading HMM info from file.
  Parsing HMM hits to marker genes:
    Finished parsing hits for 1 of 38 (2.63%) bins.    Finished parsing hits for 2 of 38 (5.26%) bins.    Finished parsing hits for 3 of 38 (7.89%) bins.    Finished parsing hits for 4 of 38 (10.53%) bins.    Finished parsing hits for 5 of 38 (13.16%) bins.    Finished parsing hits for 6 of 38 (15.79%) bins.    Finished parsing hits for 7 of 38 (18.42%) bins.    Finished parsing hits for 8 of 38 (21.05%) bins.    Finished parsing hits for 9 of 38 (23.68%) bins.    Finished parsing hits for 10 of 38 (26.32%) bins.    Finished parsing hits for 11 of 38 (28.95%) bins.    Finished parsing hits for 12 of 38 (31.58%) bins.    Finished parsing hits for 13 of 38 (34.21%) bins.    Finished parsing hits for 14 of 38 (36.84%) bins.    Finished parsing hits for 15 of 38 (39.47%) bins.    Finished parsing hits for 16 of 38 (42.11%) bins.    Finished parsing hits for 17 of 38 (44.74%) bins.    Finished parsing hits for 18 of 38 (47.37%) bins.    Finished parsing hits for 19 of 38 (50.00%) bins.    Finished parsing hits for 20 of 38 (52.63%) bins.    Finished parsing hits for 21 of 38 (55.26%) bins.    Finished parsing hits for 22 of 38 (57.89%) bins.    Finished parsing hits for 23 of 38 (60.53%) bins.    Finished parsing hits for 24 of 38 (63.16%) bins.    Finished parsing hits for 25 of 38 (65.79%) bins.    Finished parsing hits for 26 of 38 (68.42%) bins.    Finished parsing hits for 27 of 38 (71.05%) bins.    Finished parsing hits for 28 of 38 (73.68%) bins.    Finished parsing hits for 29 of 38 (76.32%) bins.    Finished parsing hits for 30 of 38 (78.95%) bins.    Finished parsing hits for 31 of 38 (81.58%) bins.    Finished parsing hits for 32 of 38 (84.21%) bins.    Finished parsing hits for 33 of 38 (86.84%) bins.    Finished parsing hits for 34 of 38 (89.47%) bins.    Finished parsing hits for 35 of 38 (92.11%) bins.    Finished parsing hits for 36 of 38 (94.74%) bins.    Finished parsing hits for 37 of 38 (97.37%) bins.    Finished parsing hits for 38 of 38 (100.00%) bins.

  Determining marker sets for each genome bin.

Unexpected error: <type 'exceptions.IOError'>
Traceback (most recent call last):
  File "/home-4/yzhan231@jhu.edu/.conda/envs/metawrap-env/bin/checkm", line 708, in <module>
    checkmParser.parseOptions(args)
  File "/home-4/yzhan231@jhu.edu/.conda/envs/metawrap-env/lib/python2.7/site-packages/checkm/main.py", line 1252, in parseOptions
    self.lineageSet(options)
  File "/home-4/yzhan231@jhu.edu/.conda/envs/metawrap-env/lib/python2.7/site-packages/checkm/main.py", line 230, in lineageSet
    resultsParser, options.unique, options.multi)
  File "/home-4/yzhan231@jhu.edu/.conda/envs/metawrap-env/lib/python2.7/site-packages/checkm/treeParser.py", line 483, in getBinMarkerSets
    tree = dendropy.Tree.get_from_path(treeFile, schema='newick', rooting="force-rooted", preserve_underscores=True)
  File "/home-4/yzhan231@jhu.edu/.conda/envs/metawrap-env/lib/python2.7/site-packages/dendropy/datamodel/basemodel.py", line 216, in get_from_path
    with open(src, "r", newline=None) as fsrc:
  File "/home-4/yzhan231@jhu.edu/.conda/envs/metawrap-env/lib/python2.7/site-packages/dendropy/utility/filesys.py", line 61, in pre_py34_open
    buffering=buffering)
IOError: [Errno 2] No such file or directory: '../../metawrap_06222021/REASSEMBLY/reassembled_bins.checkm/storage/tree/concatenated.tre'

************************************************************************************************************************
*****                             Something went wrong with running CheckM. Exiting...                             *****
************************************************************************************************************************


real	26m48.578s
user	26m15.193s
sys	0m25.911s
slurmstepd: error: Detected 7 oom-kill event(s) in step 51034281.batch cgroup. Some of your processes may have been killed by the cgroup out-of-memory handler.
